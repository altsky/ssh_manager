# SSH Manager

[English version](./README.md)

## Описание
SSH Manager — это CLI-инструмент для подключения к SSH-хостам, их удобного интерактивного редактирования с возможностью группировки по проектам. Подходит для разработчиков, DevOps инженеров и всех, кто работает с множеством SSH-серверов.

### Зачем нужен SSH Manager?
- **Удобный SSH менеджер**: Удобнее, чем постоянное редактирование `~/.ssh/config`. SSH хосты и их параметры хранятся в `json` файле, что позволяет гибко настраивать параметры подключения каждого отдельного хоста, а также группировать хосты по проектам.
- **Быстрый выбор хоста**: Используется fzf для мгновенного поиска и выбора хоста для подключения.
- **Интерактивное редактирование**: Добавляйте, редактируйте и удаляйте хосты и проекты через простое меню.

---

## Требования
- Linux, macOS
- Python 3
- jq
- fzf

---

## Установка (на примере macOS)
1. Создайте директорию `~/.ssh/ssh_manager/` и скопируйте в неё файлы `ssh_manager.py` и `ssh_connect`:
   ```bash
   mkdir -p ~/.ssh/ssh_manager
   cp ssh_manager.py ssh_connect ~/.ssh/ssh_manager/
   ```
2. Сделайте скрипт `ssh_connect` исполняемым:
   ```bash
   chmod +x ~/.ssh/ssh_manager/ssh_connect
   ```
3. (Опционально) Добавьте путь к директории со скриптами в переменную `PATH`, чтобы вызывать программу из любого места. Или добавьте alias для запуска `ssh_connect` с помощью короткой команды. Откройте `~/.bashrc`, `~/.zshrc` или другой конфигурационный файл вашей оболочки и добавьте строку:
    ```bash
    export PATH="$HOME/.ssh/ssh_manager:$PATH"
    ```
    или
    ```bash
    alias sshm="$HOME/.ssh/ssh_manager/ssh_connect"
    ```
    **Дальнейшее описание подразумевает, что этот шаг был выполнен*


4. Убедитесь, что установлены зависимости:
   ```bash
   brew install jq fzf
   ```

---

## Использование

### Подключение к хосту
1. Ввведите
```bash
sshm
```
2. Выберите желаемый хост из списка и нажмите Enter. Либо начните писать название хоста, в списке останутся только те хотсты, кототые содержат введенное вами значение.

### Управление хостами и проектами (интерактивное меню)
1. Введите
```bash
sshm --hosts
# или
sshm -h
```
2. Выберите пункт меню, а затем следуйте инструкциям на экране.

---

## Пример конфигурации
См. [hosts.json](./hosts.json) — пример файла с несколькими проектами и хостами.
